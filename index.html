<HTML>
<head>
	<style>
		.display-box{
			min-height:200px;
			border:1px solid #000;
			padding:15px;
			margin:15px;
		}
	</style>
</head>
<body>
<div id="display-box" class="display-box"></div>
<button onClick="addDish()">Add Dish</button>
<button onClick="getDishes()">Get All Dishes</button>
<button onClick="getDishesByName()">Get Dish by name</button>
<button onClick="getDishesByCategory()">Get Dish by category</button>
<button onClick="getDishesByType()">Get Dish by type</button>
<button onClick="updateDishes()">update Dish by name</button>
<button onClick="deleteDishes()">Delete Dish by name</button>
<button onClick="addReview()">Add Review</button>

<script>
function printData(data){
	jsonStr = data;
	regeStr = '',
    f = {
        brace: 0
	}; // for tracking matches, in particular the curly braces
	regeStr = jsonStr.replace(/({|}[,]*|[^{}:]+:[^{}:,]*[,{]*)/g, function (m, p1) {
    	var rtnFn = function() {
            return '<div style="text-indent: ' + (f['brace'] * 20) + 'px;">' + p1 + '</div>';
        },
        rtnStr = 0;
    	if (p1.lastIndexOf('{') === (p1.length - 1)) {
        	rtnStr = rtnFn();
        	f['brace'] += 1;
    	} else if (p1.indexOf('}') === 0) {
        	f['brace'] -= 1;
        	rtnStr = rtnFn();
    	} else {
        	rtnStr = rtnFn();
    	}
    	return rtnStr;
	});
	document.getElementById('display-box').innerHTML += regeStr;
}
function addDish(){
	let request = new XMLHttpRequest()
	request.open("POST","https://food-truck-dummy-api.herokuapp.com/dishes");
	request.send(JSON.stringify({"name" : "BFC", "category": "Non Veg", "type": "Dessert"}));
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
function getDishes(){
	let request = new XMLHttpRequest()
	request.open("GET","https://food-truck-dummy-api.herokuapp.com/addDishes");
	request.send();
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
function getDishesByName(){
	let request = new XMLHttpRequest()
	request.open("GET","https://food-truck-dummy-api.herokuapp.com/dishes");
	request.send();
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
function getDishesByCategory(){
	let request = new XMLHttpRequest()
	request.open("GET","https://food-truck-dummy-api.herokuapp.com/dishes");
	request.send();
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
function getDishesByType(){
	let request = new XMLHttpRequest()
	request.open("GET","https://food-truck-dummy-api.herokuapp.com/dishes");
	request.send();
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
function updateDishes(){
	let request = new XMLHttpRequest()
	request.open("GET","https://food-truck-dummy-api.herokuapp.com/dishes");
	request.send();
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
function deleteDishes(){
	let request = new XMLHttpRequest()
	request.open("GET","https://food-truck-dummy-api.herokuapp.com/dishes");
	request.send();
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
function addReview(){
	let request = new XMLHttpRequest()
	request.open("GET","https://food-truck-dummy-api.herokuapp.com/dishes");
	request.send();
	request.onload = () => {
		if(request.status === 200){
			printData(request.response);
		}
	}
}
</script>
</body>
</HTML>



